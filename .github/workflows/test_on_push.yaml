on:
 push:
   branches:
     - 'crop_fid'

jobs:
 run_tests:
   runs-on: [ubuntu-latest]

   steps:
   # Чекаутим код
   - uses: actions/checkout@v3
     with:
       ref: crop_fid
     # Устанавливаем python нужной версии
   - uses: actions/setup-python@v1
     with:
       python-version: '3.8'
       architecture: 'x64'
   - name: Install requirements
     # Устанавливаем зависимости
     run: pip install -r requirements.txt
   - name: Run tests
     run: coverage run tests/unit_tests/croped_fid/infer_tests.py
   - name: Tests report
     run: coverage report
